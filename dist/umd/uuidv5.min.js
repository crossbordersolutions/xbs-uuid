!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(r="undefined"!=typeof globalThis?globalThis:r||self).uuidv5=e()}(this,(function(){"use strict";for(var r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,e=[],t=0;t<256;++t)e.push((t+256).toString(16).substr(1));function n(e){return"string"==typeof e&&r.test(e)}function a(r){return n(function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e[r[t+0]]+e[r[t+1]]+e[r[t+2]]+e[r[t+3]]+"-"+e[r[t+4]]+e[r[t+5]]+"-"+e[r[t+6]]+e[r[t+7]]+"-"+e[r[t+8]]+e[r[t+9]]+"-"+e[r[t+10]]+e[r[t+11]]+e[r[t+12]]+e[r[t+13]]+e[r[t+14]]+e[r[t+15]]).toLowerCase()}(r))}function o(r){return Buffer.isBuffer(r)||Array.isArray(r)||ArrayBuffer.isView(r)?a(r):n(r)}for(var i=[],f=0;f<256;++f)i.push((f+256).toString(16).substr(1));function s(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function u(r,e){return r<<e|r>>>32-e}return function(r,e,t){function n(r,n,a,f){if("string"==typeof r&&(r=function(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}(r)),"string"==typeof n&&(n=function(r){if(!o(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=255&e,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=255&e,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=255&e,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=255&e,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=255&e,t}(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+r.length);if(s.set(n),s.set(r,n.length),(s=t(s))[6]=15&s[6]|e,s[8]=63&s[8]|128,a){f=f||0;for(var u=0;u<16;++u)a[f+u]=s[u];return a}return function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(i[r[e+0]]+i[r[e+1]]+i[r[e+2]]+i[r[e+3]]+"-"+i[r[e+4]]+i[r[e+5]]+"-"+i[r[e+6]]+i[r[e+7]]+"-"+i[r[e+8]]+i[r[e+9]]+"-"+i[r[e+10]]+i[r[e+11]]+i[r[e+12]]+i[r[e+13]]+i[r[e+14]]+i[r[e+15]]).toLowerCase();if(!o(t))throw TypeError("Stringified UUID is invalid");return t}(s)}try{n.name=r}catch(r){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}("v5",80,(function(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof r){var n=unescape(encodeURIComponent(r));r=[];for(var a=0;a<n.length;++a)r.push(n.charCodeAt(a))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,i=Math.ceil(o/16),f=new Array(i),c=0;c<i;++c){for(var l=new Uint32Array(16),p=0;p<16;++p)l[p]=r[64*c+4*p]<<24|r[64*c+4*p+1]<<16|r[64*c+4*p+2]<<8|r[64*c+4*p+3];f[c]=l}f[i-1][14]=8*(r.length-1)/Math.pow(2,32),f[i-1][14]=Math.floor(f[i-1][14]),f[i-1][15]=8*(r.length-1)&4294967295;for(var h=0;h<i;++h){for(var d=new Uint32Array(80),v=0;v<16;++v)d[v]=f[h][v];for(var y=16;y<80;++y)d[y]=u(d[y-3]^d[y-8]^d[y-14]^d[y-16],1);for(var g=t[0],b=t[1],w=t[2],A=t[3],U=t[4],I=0;I<80;++I){var m=Math.floor(I/20),C=u(g,5)+s(m,b,w,A)+U+e[m]+d[I]>>>0;U=A,A=w,w=u(b,30)>>>0,b=g,g=C}t[0]=t[0]+g>>>0,t[1]=t[1]+b>>>0,t[2]=t[2]+w>>>0,t[3]=t[3]+A>>>0,t[4]=t[4]+U>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,255&t[0],t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,255&t[1],t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,255&t[2],t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,255&t[3],t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,255&t[4]]}))}));